---
categories:
  - 博客折腾手册
date: 2021/12/20
excerpt: 当博客文章变多了之后就发现，放在 hexo 的本地文件夹中管理就有些力不从心了
show_category: Yes
status: 待发布
tags:
  - blog
  - hexo
  - notion
urlname: notion-markdown-blog
title: 使用 Notion Database 管理静态博客文章
---


<aside>
<img src="data:image/svg+xml;utf8,%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M313.066667%20101.653333c121.493333-61.76%20273.706667-63.573333%20395.413333-1.706666-4.266667%204.906667-12.906667%2014.72-17.173333%2019.626666-113.6-48-245.866667-51.413333-357.76%203.306667-5.12-5.333333-15.36-15.893333-20.48-21.226667z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M201.92%20128.746667c5.226667-54.4%2080.106667-69.866667%20111.146667-27.093334%205.12%205.333333%2015.36%2015.893333%2020.48%2021.226667-3.84%2015.786667-6.293333%2032.426667-14.933334%2046.506667-18.56%203.306667-16.746667-21.226667-24.64-32-2.986667-7.466667-6.4-14.72-10.24-21.76-23.893333-29.76-56.64%202.773333-81.813333%2013.12z%22%20fill%3D%22%23B25120%22%20%2F%3E%3Cpath%20d%3D%22M333.546667%20122.88c111.893333-54.72%20244.16-51.306667%20357.76-3.306667%204.16%2018.88%207.466667%2037.973333%2010.133333%2057.066667%206.613333-17.28%2012.48-34.88%2019.946667-51.946667%2056.213333%2031.893333%20100.16%2079.146667%20145.173333%20124.373334-83.626667-24.96-186.24-31.36-255.253333%2031.573333-29.226667%2022.186667-36.373333%2070.613333-1.813334%2091.733333%2018.986667%2022.613333%2044.8%201.066667%2066.133334-5.546666-6.293333%2037.653333-48.32%2053.76-62.08%2088.32-54.186667%20100.693333-150.826667%20179.093333-264.64%20198.933333-32.96%206.293333-70.08-1.92-99.413334%2017.706667%2020.906667%2021.226667%2036.693333%2046.4%2053.76%2070.613333-61.013333-38.613333-100.266667-105.92-104.64-177.92l-18.986666-1.706667c-6.186667%2072.533333%2039.146667%20133.12%2080.64%20187.52-42.453333-23.68-82.24-82.453333-135.253334-48.96-42.133333-93.866667-61.546667-204.266667-24.64-303.04%2010.24-11.093333%2024.746667-16.96%2037.76-24.106666%2077.226667-33.28%20172.16-32.96%20245.013334%2011.52%2036.266667%2029.653333%2086.186667-33.066667%2055.04-65.386667-55.893333-89.066667-174.613333-94.826667-268.693334-84.16%2037.973333-37.12%2074.773333-77.12%20124.48-98.773333%207.893333%2010.773333%206.08%2035.306667%2024.64%2032%208.64-14.08%2011.093333-30.72%2014.933334-46.506667M162.24%20405.12c-34.56%205.76-70.933333%2035.84-67.306667%2073.066667%2022.4%2030.293333%2058.133333%2053.546667%2097.173334%2048.853333%2039.68%201.493333%2094.933333-31.253333%2074.88-77.226667-22.08-32.96-65.493333-53.866667-104.746667-44.693333z%22%20fill%3D%22%23FDE977%22%20%2F%3E%3Cpath%20d%3D%22M708.48%2099.946667c32.106667-43.733333%20106.133333-24.64%20113.92%2029.013333-26.666667-10.56-56.96-42.026667-84.8-16.533333-4.053333%203.093333-12.16%209.28-16.213333%2012.266666-7.466667%2017.066667-13.333333%2034.666667-19.946667%2051.946667-2.666667-19.093333-5.973333-38.186667-10.133333-57.066667%204.266667-4.906667%2012.906667-14.72%2017.173333-19.626666z%22%20fill%3D%22%23B25120%22%20%2F%3E%3Cpath%20d%3D%22M150.186667%20240.746667c29.226667-54.72%2082.24-92.586667%20133.546666-125.12%203.84%207.04%207.253333%2014.293333%2010.24%2021.76-49.706667%2021.653333-86.506667%2061.653333-124.48%2098.773333-4.8%201.173333-14.4%203.413333-19.306666%204.586667zM721.386667%20124.693333c4.053333-2.986667%2012.16-9.173333%2016.213333-12.266666%2062.613333%2037.973333%20120.96%2087.573333%20157.973333%20151.573333-5.866667-3.093333-17.813333-9.066667-23.68-12.16-1.386667-0.64-4.053333-2.026667-5.333333-2.773333-45.013333-45.226667-88.96-92.48-145.173333-124.373334z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M150.186667%20240.746667c4.906667-1.173333%2014.506667-3.413333%2019.306666-4.586667%2094.08-10.666667%20212.8-4.906667%20268.693334%2084.16%2031.146667%2032.32-18.773333%2095.04-55.04%2065.386667-72.853333-44.48-167.786667-44.8-245.013334-11.52-22.826667%203.946667-45.76-0.32-58.986666-20.586667-21.226667-54.186667%2036.586667-84.373333%2071.04-112.853333m44.693333%207.36c-28.373333%205.973333-55.68%2016.426667-80.106667%2032.213333%2030.08%2011.626667%2056.213333%2032.64%2042.666667%2067.626667%2054.186667-7.36%20109.013333-6.186667%20163.413333-4.266667%2037.546667%201.066667%2066.88%2047.36%20104.64%2029.333333%2022.826667-55.786667-37.546667-94.933333-82.56-109.973333-47.786667-12.373333-98.773333-26.133333-148.053333-14.933333zM611.306667%20280.64c69.013333-62.933333%20171.626667-56.533333%20255.253333-31.573333%201.28%200.746667%203.946667%202.133333%205.333333%202.773333%205.866667%203.093333%2017.813333%209.066667%2023.68%2012.16%200.64%200.32%201.813333%201.066667%202.453334%201.493333%2039.146667%2022.293333%2080%2070.08%2048.106666%20115.2l-8.213333%2012.373334c-83.84-26.24-175.573333-70.186667-262.293333-26.24-21.333333%206.613333-47.146667%2028.16-66.133334%205.546666-34.56-21.12-27.413333-69.546667%201.813334-91.733333m105.493333-33.493333c-32%205.333333-62.08%2018.56-89.28%2034.666666%2036.266667%204.586667%2056.64%2024.96%2051.093333%2061.973334%2081.28-12.8%20168.32-13.546667%20238.4%2035.733333%2045.973333-3.733333%2033.173333-66.773333%203.2-84.053333-58.56-39.893333-133.546667-56.32-203.413333-48.32z%22%20fill%3D%22%231F1F1F%22%20%2F%3E%3Cpath%20d%3D%22M194.88%20248.106667c49.28-11.2%20100.266667%202.56%20148.053333%2014.933333%2045.013333%2015.04%20105.386667%2054.186667%2082.56%20109.973333-37.76%2018.026667-67.093333-28.266667-104.64-29.333333-54.4-1.92-109.226667-3.093333-163.413333%204.266667%2013.546667-34.986667-12.586667-56-42.666667-67.626667%2024.426667-15.786667%2051.733333-26.24%2080.106667-32.213333zM716.8%20247.146667c69.866667-8%20144.853333%208.426667%20203.413333%2048.32%2029.973333%2017.28%2042.773333%2080.32-3.2%2084.053333-70.08-49.28-157.12-48.533333-238.4-35.733333%205.546667-37.013333-14.826667-57.386667-51.093333-61.973334%2027.2-16.106667%2057.28-29.333333%2089.28-34.666666z%22%20fill%3D%22%23FFFFFF%22%20%2F%3E%3Cpath%20d%3D%22M866.56%20249.066667z%22%20fill%3D%22%23FDE977%22%20%2F%3E%3Cpath%20d%3D%22M895.573333%20264zM79.146667%20353.6c13.226667%2020.266667%2036.16%2024.533333%2058.986666%2020.586667-13.013333%207.146667-27.52%2013.013333-37.76%2024.106666-36.906667%2098.773333-17.493333%20209.173333%2024.64%20303.04%2078.826667%20180.266667%20298.88%20290.986667%20489.706667%20235.626667%20167.466667-40.853333%20302.826667-187.946667%20330.24-358.186667%2016-61.546667%201.28-124.373333-7.04-185.706666l8.213333-12.373334c76.053333%20196.8-28.48%20437.226667-213.013333%20534.293334-115.946667%2064.426667-260.693333%2072.533333-384.32%2026.026666C190.4%20881.6%2071.573333%20728.106667%2057.28%20559.04c-9.173333-69.44%206.506667-138.24%2021.866667-205.44z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M675.626667%20366.826667c86.72-43.946667%20178.453333%200%20262.293333%2026.24%208.32%2061.333333%2023.04%20124.16%207.04%20185.706666-27.413333%20170.24-162.773333%20317.333333-330.24%20358.186667-190.826667%2055.36-410.88-55.36-489.706667-235.626667%2053.013333-33.493333%2092.8%2025.28%20135.253334%2048.96%20117.653333%2099.093333%20293.44%20121.066667%20428.693333%2044.906667%2080.746667-42.666667%20143.786667-128.533333%20142.4-222.08-21.12%2045.546667-35.093333%2096.64-72.213333%20132.48C642.453333%20825.386667%20437.333333%20842.88%20303.253333%20742.4c-17.066667-24.213333-32.853333-49.386667-53.76-70.613333%2029.333333-19.626667%2066.453333-11.413333%2099.413334-17.706667%20113.813333-19.84%20210.453333-98.24%20264.64-198.933333%2013.76-34.56%2055.786667-50.666667%2062.08-88.32m140.8%2044.8c-31.36%205.44-67.2%2029.226667-55.36%2065.813333%2025.493333%2057.813333%20127.04%2058.133333%20152.533333%200.106667%2014.293333-54.826667-56.746667-71.68-97.173333-65.92z%22%20fill%3D%22%23FFD174%22%20%2F%3E%3Cpath%20d%3D%22M162.24%20405.12c39.253333-9.173333%2082.666667%2011.733333%20104.746667%2044.693333%2020.053333%2045.973333-35.2%2078.72-74.88%2077.226667-39.04%204.693333-74.773333-18.56-97.173334-48.853333-3.626667-37.226667%2032.746667-67.306667%2067.306667-73.066667z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M816.426667%20411.626667c40.426667-5.76%20111.466667%2011.093333%2097.173333%2065.92-25.493333%2058.026667-127.04%2057.706667-152.533333-0.106667-11.84-36.586667%2024-60.373333%2055.36-65.813333z%22%20fill%3D%22%23F29556%22%20%2F%3E%3Cpath%20d%3D%22M179.626667%20562.773333l18.986666%201.706667c4.373333%2072%2043.626667%20139.306667%20104.64%20177.92%20134.08%20100.48%20339.2%2082.986667%20455.893334-36.8%2037.12-35.84%2051.093333-86.933333%2072.213333-132.48%201.386667%2093.546667-61.653333%20179.413333-142.4%20222.08-135.253333%2076.16-311.04%2054.186667-428.693333-44.906667-41.493333-54.4-86.826667-114.986667-80.64-187.52z%22%20fill%3D%22%23690302%22%20%2F%3E%3C%2Fsvg%3E" alt="data:image/svg+xml;utf8,%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M313.066667%20101.653333c121.493333-61.76%20273.706667-63.573333%20395.413333-1.706666-4.266667%204.906667-12.906667%2014.72-17.173333%2019.626666-113.6-48-245.866667-51.413333-357.76%203.306667-5.12-5.333333-15.36-15.893333-20.48-21.226667z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M201.92%20128.746667c5.226667-54.4%2080.106667-69.866667%20111.146667-27.093334%205.12%205.333333%2015.36%2015.893333%2020.48%2021.226667-3.84%2015.786667-6.293333%2032.426667-14.933334%2046.506667-18.56%203.306667-16.746667-21.226667-24.64-32-2.986667-7.466667-6.4-14.72-10.24-21.76-23.893333-29.76-56.64%202.773333-81.813333%2013.12z%22%20fill%3D%22%23B25120%22%20%2F%3E%3Cpath%20d%3D%22M333.546667%20122.88c111.893333-54.72%20244.16-51.306667%20357.76-3.306667%204.16%2018.88%207.466667%2037.973333%2010.133333%2057.066667%206.613333-17.28%2012.48-34.88%2019.946667-51.946667%2056.213333%2031.893333%20100.16%2079.146667%20145.173333%20124.373334-83.626667-24.96-186.24-31.36-255.253333%2031.573333-29.226667%2022.186667-36.373333%2070.613333-1.813334%2091.733333%2018.986667%2022.613333%2044.8%201.066667%2066.133334-5.546666-6.293333%2037.653333-48.32%2053.76-62.08%2088.32-54.186667%20100.693333-150.826667%20179.093333-264.64%20198.933333-32.96%206.293333-70.08-1.92-99.413334%2017.706667%2020.906667%2021.226667%2036.693333%2046.4%2053.76%2070.613333-61.013333-38.613333-100.266667-105.92-104.64-177.92l-18.986666-1.706667c-6.186667%2072.533333%2039.146667%20133.12%2080.64%20187.52-42.453333-23.68-82.24-82.453333-135.253334-48.96-42.133333-93.866667-61.546667-204.266667-24.64-303.04%2010.24-11.093333%2024.746667-16.96%2037.76-24.106666%2077.226667-33.28%20172.16-32.96%20245.013334%2011.52%2036.266667%2029.653333%2086.186667-33.066667%2055.04-65.386667-55.893333-89.066667-174.613333-94.826667-268.693334-84.16%2037.973333-37.12%2074.773333-77.12%20124.48-98.773333%207.893333%2010.773333%206.08%2035.306667%2024.64%2032%208.64-14.08%2011.093333-30.72%2014.933334-46.506667M162.24%20405.12c-34.56%205.76-70.933333%2035.84-67.306667%2073.066667%2022.4%2030.293333%2058.133333%2053.546667%2097.173334%2048.853333%2039.68%201.493333%2094.933333-31.253333%2074.88-77.226667-22.08-32.96-65.493333-53.866667-104.746667-44.693333z%22%20fill%3D%22%23FDE977%22%20%2F%3E%3Cpath%20d%3D%22M708.48%2099.946667c32.106667-43.733333%20106.133333-24.64%20113.92%2029.013333-26.666667-10.56-56.96-42.026667-84.8-16.533333-4.053333%203.093333-12.16%209.28-16.213333%2012.266666-7.466667%2017.066667-13.333333%2034.666667-19.946667%2051.946667-2.666667-19.093333-5.973333-38.186667-10.133333-57.066667%204.266667-4.906667%2012.906667-14.72%2017.173333-19.626666z%22%20fill%3D%22%23B25120%22%20%2F%3E%3Cpath%20d%3D%22M150.186667%20240.746667c29.226667-54.72%2082.24-92.586667%20133.546666-125.12%203.84%207.04%207.253333%2014.293333%2010.24%2021.76-49.706667%2021.653333-86.506667%2061.653333-124.48%2098.773333-4.8%201.173333-14.4%203.413333-19.306666%204.586667zM721.386667%20124.693333c4.053333-2.986667%2012.16-9.173333%2016.213333-12.266666%2062.613333%2037.973333%20120.96%2087.573333%20157.973333%20151.573333-5.866667-3.093333-17.813333-9.066667-23.68-12.16-1.386667-0.64-4.053333-2.026667-5.333333-2.773333-45.013333-45.226667-88.96-92.48-145.173333-124.373334z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M150.186667%20240.746667c4.906667-1.173333%2014.506667-3.413333%2019.306666-4.586667%2094.08-10.666667%20212.8-4.906667%20268.693334%2084.16%2031.146667%2032.32-18.773333%2095.04-55.04%2065.386667-72.853333-44.48-167.786667-44.8-245.013334-11.52-22.826667%203.946667-45.76-0.32-58.986666-20.586667-21.226667-54.186667%2036.586667-84.373333%2071.04-112.853333m44.693333%207.36c-28.373333%205.973333-55.68%2016.426667-80.106667%2032.213333%2030.08%2011.626667%2056.213333%2032.64%2042.666667%2067.626667%2054.186667-7.36%20109.013333-6.186667%20163.413333-4.266667%2037.546667%201.066667%2066.88%2047.36%20104.64%2029.333333%2022.826667-55.786667-37.546667-94.933333-82.56-109.973333-47.786667-12.373333-98.773333-26.133333-148.053333-14.933333zM611.306667%20280.64c69.013333-62.933333%20171.626667-56.533333%20255.253333-31.573333%201.28%200.746667%203.946667%202.133333%205.333333%202.773333%205.866667%203.093333%2017.813333%209.066667%2023.68%2012.16%200.64%200.32%201.813333%201.066667%202.453334%201.493333%2039.146667%2022.293333%2080%2070.08%2048.106666%20115.2l-8.213333%2012.373334c-83.84-26.24-175.573333-70.186667-262.293333-26.24-21.333333%206.613333-47.146667%2028.16-66.133334%205.546666-34.56-21.12-27.413333-69.546667%201.813334-91.733333m105.493333-33.493333c-32%205.333333-62.08%2018.56-89.28%2034.666666%2036.266667%204.586667%2056.64%2024.96%2051.093333%2061.973334%2081.28-12.8%20168.32-13.546667%20238.4%2035.733333%2045.973333-3.733333%2033.173333-66.773333%203.2-84.053333-58.56-39.893333-133.546667-56.32-203.413333-48.32z%22%20fill%3D%22%231F1F1F%22%20%2F%3E%3Cpath%20d%3D%22M194.88%20248.106667c49.28-11.2%20100.266667%202.56%20148.053333%2014.933333%2045.013333%2015.04%20105.386667%2054.186667%2082.56%20109.973333-37.76%2018.026667-67.093333-28.266667-104.64-29.333333-54.4-1.92-109.226667-3.093333-163.413333%204.266667%2013.546667-34.986667-12.586667-56-42.666667-67.626667%2024.426667-15.786667%2051.733333-26.24%2080.106667-32.213333zM716.8%20247.146667c69.866667-8%20144.853333%208.426667%20203.413333%2048.32%2029.973333%2017.28%2042.773333%2080.32-3.2%2084.053333-70.08-49.28-157.12-48.533333-238.4-35.733333%205.546667-37.013333-14.826667-57.386667-51.093333-61.973334%2027.2-16.106667%2057.28-29.333333%2089.28-34.666666z%22%20fill%3D%22%23FFFFFF%22%20%2F%3E%3Cpath%20d%3D%22M866.56%20249.066667z%22%20fill%3D%22%23FDE977%22%20%2F%3E%3Cpath%20d%3D%22M895.573333%20264zM79.146667%20353.6c13.226667%2020.266667%2036.16%2024.533333%2058.986666%2020.586667-13.013333%207.146667-27.52%2013.013333-37.76%2024.106666-36.906667%2098.773333-17.493333%20209.173333%2024.64%20303.04%2078.826667%20180.266667%20298.88%20290.986667%20489.706667%20235.626667%20167.466667-40.853333%20302.826667-187.946667%20330.24-358.186667%2016-61.546667%201.28-124.373333-7.04-185.706666l8.213333-12.373334c76.053333%20196.8-28.48%20437.226667-213.013333%20534.293334-115.946667%2064.426667-260.693333%2072.533333-384.32%2026.026666C190.4%20881.6%2071.573333%20728.106667%2057.28%20559.04c-9.173333-69.44%206.506667-138.24%2021.866667-205.44z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M675.626667%20366.826667c86.72-43.946667%20178.453333%200%20262.293333%2026.24%208.32%2061.333333%2023.04%20124.16%207.04%20185.706666-27.413333%20170.24-162.773333%20317.333333-330.24%20358.186667-190.826667%2055.36-410.88-55.36-489.706667-235.626667%2053.013333-33.493333%2092.8%2025.28%20135.253334%2048.96%20117.653333%2099.093333%20293.44%20121.066667%20428.693333%2044.906667%2080.746667-42.666667%20143.786667-128.533333%20142.4-222.08-21.12%2045.546667-35.093333%2096.64-72.213333%20132.48C642.453333%20825.386667%20437.333333%20842.88%20303.253333%20742.4c-17.066667-24.213333-32.853333-49.386667-53.76-70.613333%2029.333333-19.626667%2066.453333-11.413333%2099.413334-17.706667%20113.813333-19.84%20210.453333-98.24%20264.64-198.933333%2013.76-34.56%2055.786667-50.666667%2062.08-88.32m140.8%2044.8c-31.36%205.44-67.2%2029.226667-55.36%2065.813333%2025.493333%2057.813333%20127.04%2058.133333%20152.533333%200.106667%2014.293333-54.826667-56.746667-71.68-97.173333-65.92z%22%20fill%3D%22%23FFD174%22%20%2F%3E%3Cpath%20d%3D%22M162.24%20405.12c39.253333-9.173333%2082.666667%2011.733333%20104.746667%2044.693333%2020.053333%2045.973333-35.2%2078.72-74.88%2077.226667-39.04%204.693333-74.773333-18.56-97.173334-48.853333-3.626667-37.226667%2032.746667-67.306667%2067.306667-73.066667z%22%20fill%3D%22%23EFA654%22%20%2F%3E%3Cpath%20d%3D%22M816.426667%20411.626667c40.426667-5.76%20111.466667%2011.093333%2097.173333%2065.92-25.493333%2058.026667-127.04%2057.706667-152.533333-0.106667-11.84-36.586667%2024-60.373333%2055.36-65.813333z%22%20fill%3D%22%23F29556%22%20%2F%3E%3Cpath%20d%3D%22M179.626667%20562.773333l18.986666%201.706667c4.373333%2072%2043.626667%20139.306667%20104.64%20177.92%20134.08%20100.48%20339.2%2082.986667%20455.893334-36.8%2037.12-35.84%2051.093333-86.933333%2072.213333-132.48%201.386667%2093.546667-61.653333%20179.413333-142.4%20222.08-135.253333%2076.16-311.04%2054.186667-428.693333-44.906667-41.493333-54.4-86.826667-114.986667-80.64-187.52z%22%20fill%3D%22%23690302%22%20%2F%3E%3C%2Fsvg%3E" width="40px" /> 我终于想起来 Github 的账号了, 有段时间没有更新博客了，换了新工作总归是有一点适应期，后面应该就会照常更新了

</aside>

## 背景

其实在最开始计划的时候，第一篇文章应该是另外一个主题，但是每次开始写文章的时候都忍不住去折腾一下博客（又可以水两篇文章了）

### hexo 文章管理

在准备写文章的时候发现 hexo 在文章多了之后管理上很不方便，现在博客也已经有了 150+ 博文了，所有的文章都放在了 `_posts` 文件夹下面

![博客源文件目录](%E4%BD%BF%E7%94%A8%20Notion%20Database%20%E7%AE%A1%E7%90%86%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%201efb366a58a1404cac5bee4439a733a3/Untitled.png)

博客源文件目录

如上图所示，虽然文章按照分类拆分了文件夹进行管理，但是还是不是特别清晰，毕竟不是所有的文章都是专题文章，还是有一部分笔记或者是其他文章的，在 hexo 中我们给文章分配了标签分类等字段用来区分，但是在实际的文件管理上还是不行

### 语雀文章管理

之前还在用语雀记录笔记的时候，文章是直接放在了 [语雀](https://www.yuque.com/mohuishou/blog) 上然后通过 [yuque-hexo](https://github.com/x-cold/yuque-hexo) + github actions 自动发布，但是后面将笔记切回 notion 之后，就没用语雀同步了。

<aside>
<img src="data:image/svg+xml;utf8,%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M512%20909.061224c-218.906122%200-397.061224-178.155102-397.061224-397.061224s178.155102-397.061224%20397.061224-397.061224%20397.061224%20178.155102%20397.061224%20397.061224-178.155102%20397.061224-397.061224%20397.061224z%22%20fill%3D%22%23F2CB51%22%20%2F%3E%3Cpath%20d%3D%22M520.881633%20587.232653c-11.493878%200-19.853061-9.404082-19.853062-20.37551%200.522449-17.763265%201.567347-30.302041%204.179592-39.183674%202.612245-9.404082%206.791837-17.763265%2012.016327-25.6%204.179592-5.22449%209.926531-9.404082%2017.763265-15.673469%205.22449-3.657143%2011.493878-8.359184%2016.718367-13.061224%2021.942857-19.330612%2030.82449-31.346939%2035.004082-38.661225%205.22449-8.881633%207.314286-18.808163%207.314286-29.779592%200-18.808163-7.314286-34.481633-21.942857-48.065306-15.15102-14.106122-35.526531-20.897959-62.693878-20.897959-26.122449%200-39.183673%206.791837-52.767347%2019.330612-14.628571%2013.061224-22.987755%2031.346939-26.122449%2056.946939-1.567347%2010.971429-10.971429%2018.808163-21.942857%2017.240816-10.971429-1.567347-18.808163-10.971429-17.240816-21.942857%204.179592-35.004082%2017.763265-62.693878%2039.706122-82.02449%2023.510204-20.897959%2046.497959-29.257143%2079.412245-29.257143%2036.571429%200%2066.873469%2010.44898%2089.338776%2031.346939%2022.987755%2020.897959%2035.004082%2047.020408%2035.004081%2077.322449%200%2017.763265-4.179592%2033.959184-12.538775%2049.110204-7.836735%2014.106122-21.942857%2030.302041-43.363266%2049.110204-6.791837%206.269388-14.106122%2010.971429-19.853061%2015.151021-3.134694%202.612245-7.836735%205.746939-9.404081%207.314285-2.612245%203.657143-4.179592%207.314286-5.22449%2012.016327-1.044898%203.134694-2.089796%2010.971429-2.612245%2029.779592-1.044898%2010.971429-9.926531%2019.853061-20.897959%2019.853061z%22%20fill%3D%22%23AF8015%22%20%2F%3E%3Cpath%20d%3D%22M520.359184%20677.093878m-29.779592%200a29.779592%2029.779592%200%201%200%2059.559184%200%2029.779592%2029.779592%200%201%200-59.559184%200Z%22%20fill%3D%22%23AF8015%22%20%2F%3E%3C%2Fsvg%3E" alt="data:image/svg+xml;utf8,%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M512%20909.061224c-218.906122%200-397.061224-178.155102-397.061224-397.061224s178.155102-397.061224%20397.061224-397.061224%20397.061224%20178.155102%20397.061224%20397.061224-178.155102%20397.061224-397.061224%20397.061224z%22%20fill%3D%22%23F2CB51%22%20%2F%3E%3Cpath%20d%3D%22M520.881633%20587.232653c-11.493878%200-19.853061-9.404082-19.853062-20.37551%200.522449-17.763265%201.567347-30.302041%204.179592-39.183674%202.612245-9.404082%206.791837-17.763265%2012.016327-25.6%204.179592-5.22449%209.926531-9.404082%2017.763265-15.673469%205.22449-3.657143%2011.493878-8.359184%2016.718367-13.061224%2021.942857-19.330612%2030.82449-31.346939%2035.004082-38.661225%205.22449-8.881633%207.314286-18.808163%207.314286-29.779592%200-18.808163-7.314286-34.481633-21.942857-48.065306-15.15102-14.106122-35.526531-20.897959-62.693878-20.897959-26.122449%200-39.183673%206.791837-52.767347%2019.330612-14.628571%2013.061224-22.987755%2031.346939-26.122449%2056.946939-1.567347%2010.971429-10.971429%2018.808163-21.942857%2017.240816-10.971429-1.567347-18.808163-10.971429-17.240816-21.942857%204.179592-35.004082%2017.763265-62.693878%2039.706122-82.02449%2023.510204-20.897959%2046.497959-29.257143%2079.412245-29.257143%2036.571429%200%2066.873469%2010.44898%2089.338776%2031.346939%2022.987755%2020.897959%2035.004082%2047.020408%2035.004081%2077.322449%200%2017.763265-4.179592%2033.959184-12.538775%2049.110204-7.836735%2014.106122-21.942857%2030.302041-43.363266%2049.110204-6.791837%206.269388-14.106122%2010.971429-19.853061%2015.151021-3.134694%202.612245-7.836735%205.746939-9.404081%207.314285-2.612245%203.657143-4.179592%207.314286-5.22449%2012.016327-1.044898%203.134694-2.089796%2010.971429-2.612245%2029.779592-1.044898%2010.971429-9.926531%2019.853061-20.897959%2019.853061z%22%20fill%3D%22%23AF8015%22%20%2F%3E%3Cpath%20d%3D%22M520.359184%20677.093878m-29.779592%200a29.779592%2029.779592%200%201%200%2059.559184%200%2029.779592%2029.779592%200%201%200-59.559184%200Z%22%20fill%3D%22%23AF8015%22%20%2F%3E%3C%2Fsvg%3E" width="40px" /> 语雀本身功能很丰富更新也比较及时，但是很多功能只是做了，做的不够好不够精细，细致上体验下去的时候用着就会有点难受。并且没有像 notion 的 database 的功能，在一些场景下不够灵活。当然语雀本身还是比较好用的，用来记录一些专辑会比较舒适流畅，但是不是特别适合用来记录笔记，特别是标签功能，做的有点残废，不知道现在有没有好一些。

</aside>

![Untitled](%E4%BD%BF%E7%94%A8%20Notion%20Database%20%E7%AE%A1%E7%90%86%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%201efb366a58a1404cac5bee4439a733a3/Untitled%201.png)

可以看到上图，语雀的文章本身是没有其它额外的属性的，所以我们为了支持 hexo 的 yaml frontmatter 就做了一些额外的约定和处理，但是在 notion 的 database 里面这个问题就不存在了，刚刚好可以完美的解决这个问题

![Untitled](%E4%BD%BF%E7%94%A8%20Notion%20Database%20%E7%AE%A1%E7%90%86%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%201efb366a58a1404cac5bee4439a733a3/Untitled%202.png)

## 方案

ok, idea 有了之后，我们大概想想方案，我大概调研了一下现在存在的主要方案大概可以分为三种

- 第一种就是，使用 notion database 作为 baas 后端，另写前端页面来获取数据渲染，这种方案的典型代表是 [nextjs-notion-starter-kit](https://github.com/transitive-bullshit/nextjs-notion-starter-kit)
    
    这种方式的主要问题是，在国内的加载速度和不确定性的问题，因为国情原因，notion 访问本身比较慢，并且还存在一些不确定性
    
- 第二种和第一种类似，但是第二种方案可以直接生成静态页面，所以就有着和静态博客一样的速度和灵活性，我们可以直接部署在国内。这种方法的典型方式是 [Gatsby+Notion](https://www.gatsbyjs.com/plugins/gatsby-source-notion-api/)
    
    这种方式的主要问题是主题不够丰富，大概率需要自己修改很多东西才能用，和成熟的 hugo、hexo 比，差的有点太多
    
- 第三种方案就是将 Notion Page 转换为 Markdown 文件，然后就可以直接使用 hugo、hexo 等成熟的静态博客生成器了
这个的主要问题是虽然现在 notion 官方开放了 api，但是没有 api 可以直接将 notion 的数据结构之间转换为 markdown，现在虽然有一些第三方库（例如 [notion2md](https://github.com/echo724/notion2md) ）支持，但是存在着各种各样的问题，要么不支持图片，要么不支持 table 等格式，总是会欠缺一些

经过对比，和当前遇到的问题，我选择了第三种方案，然后自己造个简单的转换轮子

- 我现在的 hexo 主题使用的还算满意，已经折腾改造过很多次了，不想再改造了（预告一下后面有一篇文章给大家介绍如何使用这个主题给自己的博客也加上左侧的章节目录）
- 其次是 notion 其实自己可以导出 markdown 文件，我只要使用 notion cookie 调用一下就可以了，工作量其实不是很大，并且后续 notion 即使出其他的 block 大概率也会支持导出，这样我们就不用去单独做兼容了

**ok，思路有了，我们看一下最后的方案**

![Group 1 (2).png](%E4%BD%BF%E7%94%A8%20Notion%20Database%20%E7%AE%A1%E7%90%86%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%201efb366a58a1404cac5bee4439a733a3/Group_1_(2).png)

- 使用 Notion Database 作为我们的存储后端
- Notion Database 中的属性对应到 Markdown 中 YAML FrontMatter
- 为了避免每次都获取所有的文章数据，我们添加一个 `status` 字段，当 `status` 为 `待发布` 的时候我们才去下载对应的文章，文章下载完成之后，我们就把这篇文章的状态修改为 `已发布`
- 由于 notion 的导出 api 导出的文件是一个文件夹，所以我们导出之后需要解压缩
- 导出的 markdown 文件中，属性的字段会被放在文章的标题下，所以我们需要做一些转换，把它转为 YAML FrontMatter
- 最后 notion 在导出文件的时候如果里面包含了图片，会创建一个文件夹，我们需要把文件夹中的图片移动到我们需要的目录，例如统一放到 `img` 目录下

## 使用

具体代码就不贴了，也没有几行，看下最后的成果就行了（这篇文章就是）

```protobuf

```